@(user: Option[models.user.User], debug: Boolean, connections: Seq[models.connection.ConnectionSettings])(
    implicit request: Request[AnyContent], session: Session, flash: Flash, messages: Messages
)@layout.simple(user, utils.Config.projectName, debug = debug) {
  <div class="row">
    <div class="col s12">
      <div class="card">
        <div class="card-content">
          <span class="card-title">Database Flow</span>
          <p>@messages("index.welcome")</p>

          @if(connections.isEmpty) {
            <h5>Add your first connection by clicking below.</h5>
          } else {
            <div>@views.html.connection.list(user, connections)</div>
          }
        </div>
        <div class="card-action">
          @defining(models.user.Role.withName(services.settings.SettingsService(models.settings.SettingKey.AddConnectionRole))) { addConnectionRole =>
            @if(user.exists(_.role.qualifies(addConnectionRole))) {
              <a class="theme-text" href="@controllers.routes.ConnectionSettingsController.addNew()">New Connection</a>
            }
          }
          @if(services.licensing.LicenseService.isPersonalEdition || user.exists(_.role == models.user.Role.Admin)) {
            <a class="right-link theme-text" href="@controllers.admin.routes.SettingsController.settings()">Settings</a>
          }
        </div>
      </div>
    </div>
  </div>
}
