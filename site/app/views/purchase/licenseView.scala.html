@(license: licensing.License, content: String)(implicit request: Request[AnyContent], session: Session, flash: Flash, messages: Messages)
@layout.simple(title = messages("license.success", utils.Config.projectName), section = "versions") {
<div class="container">
  <div class="row">
    <div class="col s12">
      <div class="card">
        <div class="card-content">
          <span class="card-title">@messages("license.success", utils.Config.projectName)</span>
          <div class="row">
            <div class="col s12" style="margin-bottom: 15px;">
              <p>Thanks for registering @utils.Config.projectName! You may bookmark this page for your records.</p>
            </div>

            <div class="col s12">
              <table class="z-depth-1 license-table">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Edition</th>
                    <th>Issued</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>@license.name</td>
                    <td>@license.email</td>
                    <td>@license.edition.title</td>
                    <td>@{new org.joda.time.LocalDateTime(license.issued).toString("yyyy-MM-dd")}</td>
                  </tr>
                </tbody>
              </table>
              <table class="z-depth-1 license-table">
                <thead>
                  <tr>
                    <th>License Content</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><textarea autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="license-content-textarea">@content</textarea></td>
                  </tr>
                </tbody>
              </table>

              <a class="theme-text" href="@controllers.routes.UserLicenseController.licenseDownload(license.id)">@messages("license.download")</a>
              <a class="theme-text right" href="" onclick="copy();return false;">@messages("license.copy")</a>
            </div>
          </div>
        </div>
        <div class="card-action">
          <a class="right btn theme waves-effect waves-light" href="@controllers.routes.SiteController.index">@messages("license.continue")</a>
          <div style="clear: both;"></div>
        </div>
      </div>
    </div>
  </div>
  <script>
    function copy() {
      var inp = document.querySelector(".license-content-textarea");
      try {
        inp.select();
        document.execCommand('copy');
        inp.blur();
      } catch (e) {
        console.warn("Cannot copy: " + e)
      }
    }
  </script>
</div>
}
